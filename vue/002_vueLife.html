<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Vue</title>
    <script src="./static/js/jquery-3.4.1.min.js"></script>
    <script src="./static/js/vue.min.js"></script>
</head>

<body>
    <h2>vue 演示 vue 生命周期</h2>
    <div id='vm'>
        <p>{{msg}}</p>
        <input type="button" value="change" v-on:click="changeMsg">
        <input type="button" value="destory" @click='destoryMsg'>
    </div>
    <script>
        var vue = new Vue({
            el: '#vm',
            data: function () {
                // 闭包
                return {
                    msg: 'vue 生命周期'
                }
            },
            beforeCreate: function () {
                console.log("01 - beforeCreate - init events & Lifecycle");
            },
            created: function () {
                console.log("02 - created - init injections & reactivity");
            },
            beforeMount: function () {
                console.log("03 - beforeMount - compile template into render function | compile el's outerHTML as template");
            },
            mounted: function () {
                console.log("04 - mounted - create vm.$el and replace 'el' with it");
            },
            beforeUpdate: function () {
                console.log("05 - beforeUpdate - when data changes");
            },
            updated: function () {
                console.log("06 - updates - virtual DOM re-render and patch");
            },
            beforeDestory: function () {
                console.log("07[未打印] - beforeDestory - when vm.$destory() is called");
            },
            destoryed: function () {
                console.log("08[未打印] - destoryed - Teardown watchers,child components and event listeners");
            },
            methods: {
                changeMsg: function () {
                    this.msg = "vue 生命周期 - Change!";
                },
                destoryMsg: function () {
                    vue.destory();
                }
            }
        });
    </script>
</body>

</html>